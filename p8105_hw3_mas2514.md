p8105 Homework 3
================
Maria Serafini

## Problem 1

**This code chunk loads the p8105 `instacart` data, which is a clean and
limited version of The “Instacart Online Grocery Shopping Dataset 2017”
and contains information about instacart online grocery orders**

``` r
data("instacart")
```

The `instacart` data contains 1384617 observations and 15 variables and
provides information on the instacart grocery orders of 131209 users
with each row representing a product from an order. The `product_name`
variable identifies the product ordered and the `aisle` variable
indicates which aisle the ordered item came from. The dataset also
includes the variables `add_to_cart_order`, which gives the sequence of
products purchased in each order, and `reorder`, which indicates whether
that item was ordered by the user in the past. The week and hour of day
the order was placed is given by `order_dow` and `order_hour_of_day`,
respectively.

There are a total of 134 aisles and the three aisles with the most items
ordered are fresh vegetables, fresh fruits, packaged vegetables fruits
with 150609, 150473, 78493 items ordered for each aisle, respectively.

**This code chunk creates a plot of the number of items ordered per
aisle. We group by aisle and count the number of items ordered per
aisle, filtering to only include aisles with 10,000 or more items
ordered. We then create a plot to visualize the number of items ordered
per aisle with the aisles arranged from most to least number of items
ordered. We remove the legend for clarity and add labels for
readability**

``` r
instacart |> 
  group_by(aisle) |> 
  summarize(
    aisle_items_ordered = n()
  ) |> 
  filter(aisle_items_ordered > 10000) |> 
  ggplot(aes(x = aisle_items_ordered, y = reorder(aisle, aisle_items_ordered), fill = aisle)) +
  geom_col() +
  theme(legend.position = "none") +
  labs(
    x = "Number of Items Ordered", 
    y = "Aisle", 
    title = "Number of Grocery Items Ordered Per Aisle",
    subtitle = "(More than 10,000 Items Ordered)"
  )
```

<img src="p8105_hw3_mas2514_files/figure-gfm/plot_orders_by_aisle-1.png" width="90%" />

**This code creates a table showing the three most popular items in the
aisles “baking ingredients”, “dog food care”, and “package vegetables
fruits. We group by the aisle and product name and count the number of
each product. We then arrange the item counts in descending order and
take the top 3. Finally, we create a table displaying the results**

``` r
instacart |> 
  filter(aisle %in% c("baking ingredients", "dog food care", "packaged vegetables fruits")) |> 
  group_by(aisle, product_name) |> 
  summarize(
    item_count = n(), .groups = "drop_last"
  ) |> 
  arrange(aisle, desc(item_count)) |> 
  slice_head(n = 3) |>
  knitr::kable(
    col.names = c("Aisle", "Product", "Number of Times Ordered"),
    caption = "Top 3 Most Ordered Items By Aisle"
  )
```

| Aisle | Product | Number of Times Ordered |
|:---|:---|---:|
| baking ingredients | Light Brown Sugar | 499 |
| baking ingredients | Pure Baking Soda | 387 |
| baking ingredients | Cane Sugar | 336 |
| dog food care | Snack Sticks Chicken & Rice Recipe Dog Treats | 30 |
| dog food care | Organix Chicken & Brown Rice Recipe | 28 |
| dog food care | Small Dog Biscuits | 26 |
| packaged vegetables fruits | Organic Baby Spinach | 9784 |
| packaged vegetables fruits | Organic Raspberries | 5546 |
| packaged vegetables fruits | Organic Blueberries | 4966 |

Top 3 Most Ordered Items By Aisle

This table shows that the top 3 most ordered items for the “baking
ingredients” aisle were “Light Brown Sugar” with 499 orders, “Pure
Baking Soda” with 387 orders, and “Cane Sugar” with 336 orders. The top
3 most ordered items for the “dog food care aisle” were “Snack Sticks
Chicken & Rice Recipe Dog Treats” with 30 orders, “Organix Chicken &
Brown Rice Recipe” with 28 orders, and “Small Dog Biscuits” with 26
orders. The top 3 ordered items for the “packages vegetables and fruits”
aisle were “Organic Baby Spinach” with 9,784 orders, “Organic
Raspberries” with 5,546 orders, and “Organic Blueberries” with 4,966
orders.
